body{
  font-family:'Ubuntu',sans-serif;
  background:#2b1c4a;
  color:#f0f0f0;
  text-align:center;
  padding:2rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  min-height:100vh;
}
h1{
  font-size:2.6rem;
  margin-top:0;
  margin-bottom:.5rem;
}
section{margin-bottom:2rem;}
.controls{display:flex;justify-content:center;gap:.5rem;margin:.5rem 0;}
button{padding:.5rem 1rem;background:#ffbb33;border:none;border-radius:4px;color:#222;cursor:pointer;font-size:calc(1rem + 2pt);}
button:hover{background:#e6a12b;}
button.small{font-size:.8rem;padding:.3rem .7rem;margin-top:.5rem;}
#quickAns button{filter:brightness(1.2);}
#modeTitle{font-size:2.8rem;font-weight:bold;margin-bottom:.3rem;text-transform:capitalize;}
#modeHelp{font-size:.8rem;color:#ffbb33;margin-bottom:.3rem;}
#quickAns .row-label{
  align-self:center;
  font-size:1.6rem;
  color:#ffbb33;
  margin-right:.3rem;
}
#score{font-weight:bold;margin:.3rem 0;}
#quickAns{display:flex;flex-wrap:wrap;gap:.3rem;justify-content:center;margin-top:.5rem;}
#quickAns div{flex-basis:100%;height:0;}
#notation{
  margin:0 auto 1rem auto;
  background:#eee;
  display:inline-block;
  padding:.5rem;
  border-radius:4px;
}
#notation svg{user-select:none;}
.profiles{display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap;margin:.5rem 0;}
.profile-slot{
  width:106px;
  height:106px;
  background:#444;
  border:2px dashed #ffbb33;
  border-radius:4px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  flex-direction:column;
}
.profile-slot img{width:80px;height:80px;border-radius:4px;}
.profile-slot p{margin:0;font-size:1.1rem;color:#ffbb33;}
.profile-slot.active{border-style:solid;}
select{padding:.4rem;}
a{color:#ffbb33;}
a:hover{text-decoration:underline;}
button.disabled{background:#555;color:#999;cursor:default;}
#attempts{list-style:none;padding:0;margin:.5rem 0;}
#attempts li{display:flex;justify-content:center;gap:1rem;}
.line {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.5rem;
}
.summary-buttons{display:flex;justify-content:center;gap:.5rem;margin-top:.5rem;}
#levelInfo{display:flex;flex-direction:column;gap:.3rem;align-items:center;border:2px solid #ffbb33;padding:.5rem;border-radius:4px;}
#levelInfo li.line{display:flex;gap:.3rem;justify-content:center;flex-wrap:wrap;margin-bottom:.5rem;}
#levelInfo button{width:auto;max-width:none;}
#avatarMsg{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;}
#avatarMsg img{width:180px;height:180px;}
#avatarBubble{background:#fffbcc;color:#222;padding:.5rem 1rem;border-radius:4px;margin-top:.2rem;opacity:0;transition:opacity .3s;max-width:450px;font-size:1.2rem;}
#avatarBubble.show{opacity:1;}

#avatarSelector{
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  background:rgba(0,0,0,0.8);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
#avatarSelector h2{margin-bottom:.5rem;}
#avatarSelector .avatar-list{
  display:grid;
  grid-template-columns:repeat(5,180px);
  gap:.5rem;
  justify-content:center;
}
#avatarSelector img{
  width:180px;height:180px;cursor:pointer;border-radius:4px;border:2px solid transparent;
}
#avatarSelector img:hover{border-color:#ffbb33;}
.modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000;}
#statsPopup .stats-content{background:#fff;color:#000;padding:.5rem;max-width:320px;overflow:auto;text-align:left;border-radius:4px;}
#statsPopup .stats-content img{width:80px;height:80px;border-radius:4px;margin:0 auto;display:block;margin-bottom:.3rem;}
#statsPopup ul{list-style:none;padding-left:0;margin:.3rem 0;}
#statsPopup li{margin-bottom:.2rem;}

.fail-ball{
  width:60px;
  height:60px;
  border-radius:50%;
  margin:0 auto;
}
#practicePopup h2{margin-bottom:.5rem;}
#practicePopup p{margin:.5rem 0;}

.flash{animation:flash-border 0.25s ease-in-out 5;}
@keyframes flash-border{from{outline:2px solid #f00;}to{outline:2px solid transparent;}}
.driver-highlighted-element-stage,
#driver-page-overlay {
  pointer-events: none;
}

.driver-highlighted-element-stage {
  z-index: 0 !important;
  background: transparent !important;
  box-shadow: 0 0 0 2px #ffbb33 !important;
}

#driver-page-overlay {
  z-index: -1 !important;
}

/* Center avatar and level blocks vertically */
#welcome{
  display:flex;
  flex-direction:column;
  align-items:center;
  flex:1;
}
.welcome-content{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
#game{
  flex:1;
}
.game-content{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* Center avatar and level blocks vertically */
#welcome{
  display:flex;
  flex-direction:column;
  align-items:center;
  flex:1;
}
.welcome-content{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
#game{
  display:flex;
  flex-direction:column;
  align-items:center;
  flex:1;
}
.game-content{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

#summary{
  display:flex;
  flex-direction:column;
  align-items:center;
  flex:1;
}
.summary-content{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}


